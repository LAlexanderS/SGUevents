{% extends 'events/base.html' %} {% load static %} 
{% block title %} <title>Достопримечательности</title> {% endblock %}

{% block filters %}
<div class="row filter-events-row mt-2">
	<div class="col-lg-2">
		<div class="row">
			<div class="dropdown">
				<button class="btn btn-secondary dropdown-toggle w-100" type="button" data-bs-toggle="dropdown" aria-expanded="false">
					Название 
				</button>
				<form action="" method="get" class="dropdown-menu bg-dark" data-bs-theme="dark">
					<div class="form-check text-white mx-3">
							<input class="form-check-input" type="radio" name="order_by" id="flexRadioDefault1" value="default" checked>
							<label class="form-check-label" for="flexRadioDefault1">
									По умолчанию
							</label>
					</div>
					<div class="form-check text-white mx-3">
							<input class="form-check-input" type="radio" name="order_by" id="flexRadioDefault2" value="">
							<label class="form-check-label" for="flexRadioDefault2">
									Сначала новые
							</label>
					</div>
					<div class="form-check text-white mx-3">
							<input class="form-check-input" type="radio" name="order_by" id="flexRadioDefault3" value="">
							<label class="form-check-label" for="flexRadioDefault3">
									Сначала старые
							</label>
					</div>
					<button type="submit" class="btn btn-primary mx-3 mt-3">Применить</button>
				</form>
			</div>
		</div>
	</div>
	<div class="col-lg-2">
		<div class="row">
			<div class="dropdown">
				<button class="btn btn-secondary dropdown-toggle w-100" type="button" data-bs-toggle="dropdown" aria-expanded="false"> 
					Дата
				</button>
				<form action="{% if request.GET.q %}{% url "events_cultural:search_attractions" %}{% else %}{% url "events_cultural:attractions" %}{% endif %}" method="get" class="dropdown-menu bg-dark" data-bs-theme="dark">
					<div class="form-check text-white mx-3">
							<input class="form-check-input" type="radio" name="order_by" id="flexRadioDefault1" value="default"
							{% if not request.GET.order_by or request.GET.order_by == 'default' %}checked{% endif %}>
							<label class="form-check-label" for="flexRadioDefault1">
									По умолчанию
							</label>
					</div>
					<div class="form-check text-white mx-3">
							<input class="form-check-input" type="radio" name="order_by" id="flexRadioDefault2" value="-date" 
							{% if request.GET.order_by == '-date' %}checked{% endif %}>
							<label class="form-check-label" for="flexRadioDefault2">
									Сначала новые
							</label>
					</div>
					<div class="form-check text-white mx-3">
							<input class="form-check-input" type="radio" name="order_by" id="flexRadioDefault3" value="date" 
							{% if request.GET.order_by == 'date' %}checked{% endif %}>
							<label class="form-check-label" for="flexRadioDefault3">
									Сначала старые
							</label>
					</div>
					<!-- Сохранение других параметров фильтрации -->
					{% for key, value in request.GET.items %}
						{% if key != 'f_events_for_visiting' %}
							<input type="hidden" name="{{ key }}" value="{{ value }}">
						{% endif %}
					{% endfor %}
					<button type="submit" class="btn btn-primary mx-3 mt-3">Применить</button>
				</form>
			</div>
		</div>
	</div>
	<div class="col-lg-2">
		<div class="row">
			<div class="dropdown">
				<button class="btn btn-secondary dropdown-toggle w-100" type="button" data-bs-toggle="dropdown" aria-expanded="false">
					Время
				</button>
				<form action="" method="get" class="dropdown-menu bg-dark" data-bs-theme="dark">
					<div class="form-check text-white mx-3">
							<input class="form-check-input" type="radio" name="order_by" id="flexRadioDefault1" value="default" checked>
							<label class="form-check-label" for="flexRadioDefault1">
									По умолчанию
							</label>
					</div>
					<div class="form-check text-white mx-3">
							<input class="form-check-input" type="radio" name="order_by" id="flexRadioDefault2" value="">
							<label class="form-check-label" for="flexRadioDefault2">
									Сначала новые
							</label>
					</div>
					<div class="form-check text-white mx-3">
							<input class="form-check-input" type="radio" name="order_by" id="flexRadioDefault3" value="">
							<label class="form-check-label" for="flexRadioDefault3">
									Сначала старые
							</label>
					</div>
					<button type="submit" class="btn btn-primary mx-3 mt-3">Применить</button>
				</form>
			</div>
		</div>
	</div>
	<div class="col-lg-2">
		<div class="row">
			<div class="dropdown">
				<button class="btn btn-secondary dropdown-toggle w-100" type="button" data-bs-toggle="dropdown" aria-expanded="false">
					Место проведения
				</button>
				<form action="" method="get" class="dropdown-menu bg-dark" data-bs-theme="dark">
					<div class="form-check text-white mx-3">
							<input class="form-check-input" type="radio" name="order_by" id="flexRadioDefault1" value="default" checked>
							<label class="form-check-label" for="flexRadioDefault1">
									По умолчанию
							</label>
					</div>
					<div class="form-check text-white mx-3">
							<input class="form-check-input" type="radio" name="order_by" id="flexRadioDefault2" value="">
							<label class="form-check-label" for="flexRadioDefault2">
									Сначала новые
							</label>
					</div>
					<div class="form-check text-white mx-3">
							<input class="form-check-input" type="radio" name="order_by" id="flexRadioDefault3" value="">
							<label class="form-check-label" for="flexRadioDefault3">
									Сначала старые
							</label>
					</div>
					<button type="submit" class="btn btn-primary mx-3 mt-3">Применить</button>
				</form>
			</div>
		</div>
	</div>
	
	<div class="col-lg-2">
		<div class="dropdown">
			<button class="btn btn-secondary dropdown-toggle w-100" type="button" data-bs-toggle="dropdown" aria-expanded="false">
				Теги
			</button>
			<form action="" method="get" class="dropdown-menu bg-dark" data-bs-theme="dark" style="max-height: 200px; overflow-y: auto;">
				<div class="form-check text-white mx-3">
					{% for tag in tags %}
						<input class="form-check-input" type="checkbox" name="f_tags" id="flexCheckDefault{{ forloop.counter }}" value="{{ tag }}"
							   {% if request.GET.f_tags == tag %}checked{% endif %}>
						<label class="form-check-label" for="flexCheckDefault{{ forloop.counter }}">{{ tag }}</label>
						<br>
					{% endfor %}
				</div>
	
				<!-- Сохранение других параметров фильтрации -->
				{% for key, value in request.GET.items %}
					{% if key != 'f_tags' %}
						<input type="hidden" name="{{ key }}" value="{{ value }}">
					{% endif %}
				{% endfor %}
	
				<button type="submit" class="btn btn-primary mx-3 mt-3">Применить</button>
			</form>
		</div>
	</div>
	<div class="col-lg-2">
        <form action="{% url 'events_cultural:attractions' %}" method="get">
        	<button class="btn btn-primary" type="submit">Сбросить</button>
    	</form>
	</div>
</div>
{% endblock filters %}

{% block content %}
<!-- Контент на странице -->
<button class="btn btn-primary btn-comment" data-event-id="{{ events.id }}" data-model-type="attractions">Оставить отзыв</button>


{% endblock content %}
